{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/in-depth-react-preview/","result":{"data":{"site":{"siteMetadata":{"title":"Deep Dive Magic Code","author":"Goidle","comment":{"utterances":"goidle/goidle.github.io"}}},"markdownRemark":{"id":"920ab284-aa62-595c-a968-f41196ded4b9","excerpt":"모든 설명은 v16.12.0 버전 함수형 컴포넌트와 브라우저 환경을 기준으로 합니다. 버전에 따라 코드는 변경될 수 있으며 클래스 컴포넌트는 설명에서 제외됨을 알려 드립니다.…","html":"<blockquote>\n<p>모든 설명은 v16.12.0 버전 함수형 컴포넌트와 브라우저 환경을 기준으로 합니다. 버전에 따라 코드는 변경될 수 있으며 클래스 컴포넌트는 설명에서 제외됨을 알려 드립니다.</p>\n</blockquote>\n<h1 id=\"1-들어가기에-앞서\" style=\"position:relative;\"><a href=\"#1-%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"1 들어가기에 앞서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 들어가기에 앞서</h1>\n<p>먼저 이 시리즈는 리액트 사용법에 대한 글이 아닙니다.<br>\n리액트를 통해 프로젝트를 진행한 경험이 있고 동작 방식을 어렴풋이 이해하기는 하지만 여전히 리액트가 마법처럼 느껴지고 응용, 에러 디버깅 등에 어려움을 겪는 사람들을 위해 작성하였습니다.</p>\n<p>시리즈의 내용은 사용자의 상호작용으로부터 훅을 통해 컴포넌트가 업데이트되고 DOM에 마운트되기 까지의 일련의 과정을 실제 코드를 통해 분석해 나가게 될 것입니다. 친절히 요약해서 전달해 드리지 않습니다. 코드에 변형을 가하지 않고 코드 그대로 변수 하나하나 무엇을 위해 선언되었는지 A - Z까지 알아볼 것입니다.</p>\n<p>시리즈를 끝내고 나면 Virtual DOM이 무엇인지, 컴포넌트 상태가 바뀌었을 때 리액트는 어떻게 해당 컴포넌트를 리-렌더링시키는지, 어떻게 변경된 부분만 DOM에 마운트 되는지, hook은 컴포넌트와 어떤 방식으로 매핑되어 사용되는지, 이벤트 구현은 어떻게 되어 있는지 등 리액트의 전반적인 큰 줄기의 흐름을 알게 될 것입니다.</p>\n<p>들어가기에 앞서 당부 드리고 싶은 말씀은 코드를 분석할 때 필히 분석 대상이 어떤 패키지 밑에 있는 것이고 모듈과 함수 이름은 무엇인지 먼저 보고 머리에 담아둔 상태로 코드를 보시기 바랍니다.\n리액트는 역할별로 많은 모듈과 동작에 맞는 함수들을 만들어 놓았습니다. 코드만 보고 넘어가게 된다면 리액트의 구조로 코드를 바라보기가 어려우며 이는 추후에 지금 내가 어디를 보고 있으며 어떠한 흐름으로 여기까지 왔는지 이해하기가 힘듭니다. 이해도 제대로 못 한 상태로 시간은 시간대로 날리고 가장 큰 걱정은 혼자 분석하고 싶을 때 많은 어려움을 겪게 될 것입니다.</p>\n<p>여기서 언급되는 내용을 몰라도 리액트 프로젝트를 진행하는데 아무런 영향은 없지만, 이 시리즈를 통해 리액트에 대한 막연한 인식의 허들을 낮추고 궁금증을 가지고 있지만 않고 스스로 분석해보려는 의지를 심어 드리기 위하여 이 글을 시작합니다.</p>\n<blockquote>\n<p>리액트 공식 홈페이지의 <a href=\"https://reactjs.org/docs/getting-started.html\" target=\"_blank\">Docs</a>을 정독하지 않으신 분이 계신다면 먼저 읽고 오시길 바랍니다. 리액트 뿐만 아니라 모든 것은 공식 홈페이지를 보고 이해하고 난 후에 시작하는 게 순서입니다.</p>\n</blockquote>\n<h1 id=\"2-패키지-구조\" style=\"position:relative;\"><a href=\"#2-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B5%AC%EC%A1%B0\" aria-label=\"2 패키지 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 패키지 구조</h1>\n<p>리액트는 react 코어, 플랫폼과 관련된 renderer, VDOM과 관련된 <strong>reconciler</strong>, 비동기 실행기인 <strong>scheduler</strong> 그리고 event로 나눌 수 있습니다.</p>\n<h3 id=\"react\" style=\"position:relative;\"><a href=\"#react\" aria-label=\"react permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react</h3>\n<p>컴포넌트 정의와 관련된 패키지입니다.<br>\n대표적으로 React element를 만드는 createElement()와 개발자에게 다른 패키지의 모듈을 제공하는 중간 다리 역할을 하고 있습니다. 해당 패키지는 다른 패키지에 의존도을 가지고 있지 않기 때문에 여러 플랫폼(브라우저, 모바일)에 올려서 사용할 수 있습니다.</p>\n<h3 id=\"renderer\" style=\"position:relative;\"><a href=\"#renderer\" aria-label=\"renderer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>renderer</h3>\n<p>react-dom, react-native-renderer 등 호스트 렌더링 환경에 의존적인 패키지입니다. 호스트와 react를 연결하는 역할을 합니다. <strong>reconciler</strong>와 legacy-event 패키지에 의존도를 가지고 있습니다.</p>\n<h3 id=\"eventlegacy-events\" style=\"position:relative;\"><a href=\"#eventlegacy-events\" aria-label=\"eventlegacy events permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>event(legacy-events)</h3>\n<p>SyntheticEvent라는 명칭으로 내부적으로 개발된 이벤트 시스템입니다. 개발자가 event를 사용하기 전 리액트에서 추가적인 제어를 하기 위해 호스트 event를 wrapping하며 이벤트 풀링, 이벤트 위임 등을 사용하여 구현되어 있습니다.</p>\n<h3 id=\"scheduler\" style=\"position:relative;\"><a href=\"#scheduler\" aria-label=\"scheduler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scheduler</h3>\n<p>리액트는 여러 가지 이유로 작업을 비동기로 실행시켜야 합니다. 이 작업은 Task란 이름으로 우선순위에 따라 스케줄링 됩니다. Task를 실행하기에 가장 적기인 때를 알고 있는 것이 <strong>scheduler</strong>이며 리액트는 비동기 실행의 책임을 전문가인 <strong>scheduler</strong>에게 위임합니다. 이 패키지는 호스트 환경에 의존적입니다.</p>\n<h3 id=\"reconciler\" style=\"position:relative;\"><a href=\"#reconciler\" aria-label=\"reconciler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>reconciler</h3>\n<p>리액트의 핵심 패키지입니다.<br>\n그만큼 여러 고민과 노력들이 묻어 있으며 이 시리즈에서 가장 많은 시간을 보내게 될 것입니다.<br>\nv15 이전에는 스택 기반 구현이었다면 v16부터는 오랜 기간 연구 끝에 fiber architecture를 도입했습니다.  </p>\n<figure>\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 216px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 297.47474747474746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"package\" title=\"package\" src=\"/static/2161b4e7c99ef600b95b2c20e47f9d08/7d4ec/package.png\" srcset=\"/static/2161b4e7c99ef600b95b2c20e47f9d08/18f77/package.png 198w,\n/static/2161b4e7c99ef600b95b2c20e47f9d08/7d4ec/package.png 216w\" sizes=\"(max-width: 216px) 100vw, 216px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n  <figcaption>리액트 패키지</figcaption>\n</figure>\n<blockquote>\n<p>Hook, Scheduler, Reconciler 는 서로 연관된 부분이 많습니다. 그래서 각 챕터별로 진행하는데 많은 어려움을 겪게 되실 겁니다. 추천해 드리는 방법은 처음부터 욕심부려서 모든 걸 이해하려 하지 마시고 시리즈 전체를 빠르게 한번 훑어 전체적인 그림을 익히고 난 후에 시작하신다면 처음에는 보이지 않던 부분들이 눈에 들어오면서 무리 없이 진행하실 거라 생각됩니다.</p>\n</blockquote>\n<h1 id=\"3-혼동되는-용어-정리\" style=\"position:relative;\"><a href=\"#3-%ED%98%BC%EB%8F%99%EB%90%98%EB%8A%94-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC\" aria-label=\"3 혼동되는 용어 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 혼동되는 용어 정리</h1>\n<h3 id=\"컴포넌트-구분\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%EB%B6%84\" aria-label=\"컴포넌트 구분 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컴포넌트 구분</h3>\n<p>리액트에서 자체 제공하는 컴포넌트, 사용자 정의 컴포넌트, 플랫폼 컴포넌트로 구분할 수 있으며 아래와 같이 명칭하도록 하겠습니다.  </p>\n<ul>\n<li>자체 제공하는 컴포넌트를 <strong>스태틱 컴포넌트</strong></li>\n<li>플랫폼 컴포넌트를 호스트 <strong>컴포넌트</strong></li>\n<li>사용자 정의 컴포넌트를 커스텀 <strong>컴포넌트</strong></li>\n</ul>\n<h3 id=\"렌더링\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"렌더링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링</h3>\n<p>일반적으로 컴포넌트 렌더링이라 하면 컴포넌트 호출을 떠올립니다. 하지만 세부 구현 사항으로 내려가면 여러 단계가 더 존재하기 때문에 용어 혼동을 방지하기 위해 좀 더 세분화하도록 하겠습니다.</p>\n<p>컴포넌트 호출은 <strong>reconciler</strong>에서 합니다. 그 후 VDOM 재조정 작업이 들어가고 renderer를 이용하여 DOM에 마운트합니다.<br>\n컴포넌트 호출과 DOM 삽입은 별개입니다. 그리고 리액트에서는 DOM 삽입과 화면에 그려지는 것 또한 별개로 다루고 있습니다.</p>\n<p>앞으로 렌더링은 컴포넌트가 호출되어 자식을 반환하고 VDOM에 적용하는 일련의 과정을 일컫는다고 하겠습니다. DOM 작업은 제외 입니다. 컴포넌트 호출은 그저 함수 ‘호출’로만 생각하세요. <strong><em>‘React element를 반환한다.’</em></strong> 그 이상 그 이하도 아닙니다.<br>\n또한 컴포넌트를 DOM에 삽입하는 것을 마운트, 브라우저가 화면에 그리는 걸 페인트라 정의하겠습니다.</p>\n<h3 id=\"virtual-dom\" style=\"position:relative;\"><a href=\"#virtual-dom\" aria-label=\"virtual dom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Virtual DOM</h3>\n<p>이하 VDOM으로 명칭</p>\n<ol>\n<li>\n<p>reactElement , fiber  </p>\n<ul>\n<li><strong>reactElement는</strong> 컴포넌트의 정보를 담은 모델 객체입니다. 컴포넌트가 반환하는 것은 JSX가 아닌 이 React element입니다. </li>\n<li><strong>fiber는</strong> VDOM의 노드 객체입니다. 이 객체는 React element를 VDOM에 올리기 위해 확장한 객체입니다. fiber를 통해 컴포넌트의 상태, 훅, 라이프 사이클 등 대부분이 관리됩니다.</li>\n</ul>\n</li>\n<li>current, workInProgress<br>\n리액트는 더블 버퍼링 형태로 VDOM을 설계했습니다.<br>\ncurrent는 마운트가 끝난 트리이며 workInProgress는 업데이트가 적용 중인 트리입니다.</li>\n</ol>\n<p>더 많은 용어들이 있지만 크게 혼동되는 부분만 짚어 보았습니다.</p>","frontmatter":{"title":"React 톺아보기 - 01. Preview","date":"2020-10-11","keywords":["리액트","react","fiber","scheduler","가상 돔","virtual dom"]}}},"pageContext":{"slug":"/react/in-depth-react-preview/","previous":{"fields":{"slug":"/redux/in-depth-redux/"},"frontmatter":{"title":"Redux 톺아보기","category":"redux"}},"next":{"fields":{"slug":"/react/in-depth-react-intro/"},"frontmatter":{"title":"React 톺아보기 - 02. Intro","category":"react"}}}},"staticQueryHashes":["2277278352","536400264"]}